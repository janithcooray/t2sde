# --- T2-COPYRIGHT-NOTE-BEGIN ---
# T2 SDE: package/*/cryptsetup/hotfix-clang-no-symver.patch
# Copyright (C) 2024 The T2 SDE Project
# 
# This Copyright note is generated by scripts/Create-CopyPatch,
# more information can be found in the files COPYING and README.
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License version 2 as used by the T2 SDE.
# --- T2-COPYRIGHT-NOTE-END ---

--- cryptsetup-2.7.1/configure.orig	2024-03-07 15:42:35.000000000 +0100
+++ cryptsetup-2.7.1/configure	2024-03-22 12:36:35.053395127 +0100
@@ -25664,6 +25664,7 @@
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
+#ifndef __clang__
 	void _test_sym(void);
 	__attribute__((__symver__("sym@VERSION_4.2"))) void _test_sym(void) {}
 
@@ -25672,6 +25673,7 @@
 {
  _test_sym()
 
+#endif
   ;
   return 0;
 }
