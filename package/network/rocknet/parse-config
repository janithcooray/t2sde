# --- T2-COPYRIGHT-NOTE-BEGIN ---
# T2 SDE: package/*/rocknet/parse-config
# Copyright (C) 2005 - 2024 The T2 SDE Project
# 
# This Copyright note is generated by scripts/Create-CopyPatch,
# more information can be found in the files COPYING and README.
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License version 2.
# --- T2-COPYRIGHT-NOTE-END ---

if pkginstalled -n rocknet; then
	# rocknet module install helper
	#
	install_rocknet_module() {
		local file="$1" libnetwork=lib/network
		local mfile="${file##*/}"; mfile=${mfile#rocknet_}

		echo "Installing $mfile to /$libnetwork/ ..."
		cp -vf $file $root/$libnetwork/$mfile
	}

	for x in $(ls -1 $confdir/rocknet_*.sh 2> /dev/null) ; do
		hook_add postinstall 4 "install_rocknet_module '$x'"
	done
fi
